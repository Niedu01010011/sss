# 前后端交互

## 1.客户端与服务器

1. url：统一资源定位符，由三部分组成：

   + 客户端与服务器之间的通信协议
   + 存有该资源的服务器名称
   + 资源在服务器上具体的存放位置

   ![image-20210205153420115](D:\vue\前后端交互.assets\image-20210205153420115.png)

2. 网页中如何请求数据：

   ![image-20210205154709155](D:\vue\前后端交互.assets\image-20210205154709155.png)

3. 资源的请求方式：

   ![image-20210205154905517](D:\vue\前后端交互.assets\image-20210205154905517.png)

## 2.ajax

1. Ajax能让我们轻松实现网页与服务器之间的数据交互。

   ![image-20210205155041220](D:\vue\前后端交互.assets\image-20210205155041220.png)

2. jQuery中的Ajax

   浏览器中提供的XmlHttpRequest用法比较复杂，所以jquery对XmlHttpRequest进行了封装，提供了一系列Ajax相关的函数，极大的降低了Ajax的使用难度。

3. jquery中发起Ajax请求最常用的三个方法：
   + $.get()【从服务器获取数据】
   + $.post()【提交数据】
   + $.ajax()【既可以获取数据也可以提交数据】

4. $.get()函数：

   1. jquery中$.get()函数功能单一，专门用来发起get请求，从而将服务器上的资源请求到客户端来进行使用。

   2. 语法：

      ```js
      $.get(url,[data],[callback])
      ```

      |  参数名  | 参数类型 | 是否必选 |           说明           |
      | :------: | :------: | :------: | :----------------------: |
      |   url    |  string  |    是    |     要请求的资源地址     |
      |   data   |  object  |    否    | 请求资源期间要携带的参数 |
      | callback | function |    否    |   请求成功时的回调函数   |

5. $.post()函数：

   1. jquery中$.post()函数功能单一，专门用来发起post请求，从而向服务器提交数据。

   2. $.post()函数语法如下：

      ```js
      $.post(url,[data],[callback])
      ```

      |  参数名  | 参数类型 | 是否必选 |           说明           |
      | :------: | :------: | :------: | :----------------------: |
      |   url    |  string  |    是    |      提交数据的地址      |
      |   data   |  object  |    否    |       要提交的数据       |
      | callback | function |    否    | 数据提交成功时的回调函数 |

6. $.ajax()函数的语法

   相比于$.get()和$.post()函数，jquery中提供的$.ajax()函数，是一个功能比较综合的函数，它允许我们对ajax请求进行更详细的配置

   $.ajax()函数的基本语法如下：

   ```js
   $.ajax({
   	type: '',//请求的方式，例如GET或POST
       url: '',//请求的url地址
       data: {},//这次要携带的数据
       success: function(res){}//请求成功之后的回调函数
   })
   ```

## 3. 接口

1. 接口的概念：

   使用Ajax请求数据时，被请求的url地址，就叫做数据接口（简称接口）。同时，每个接口必须要请求方式。

2. 接口的请求过程

   ![image-20210205165106676](D:\vue\前后端交互.assets\image-20210205165106676.png)

![image-20210205165132508](D:\vue\前后端交互.assets\image-20210205165132508.png)

3. 接口测试工具

   ![image-20210205165631696](D:\vue\前后端交互.assets\image-20210205165631696.png)

4. 接口文档

   1. 接口文档格式：

   2. ![image-20210205165925267](D:\vue\前后端交互.assets\image-20210205165925267.png)

   3. 接口文档示例

      ![image-20210205165951250](D:\vue\前后端交互.assets\image-20210205165951250.png)

      ![image-20210205170008892](D:\vue\前后端交互.assets\image-20210205170008892.png)

   4. 案例：图书管理

      + 渲染图书列表（核心代码）

        ![image-20210207175618628](D:\vue\前后端交互.assets\image-20210207175618628.png)

      + 删除图书（核心代码）

        ![image-20210207175718197](D:\vue\前后端交互.assets\image-20210207175718197.png)

## 4.form表单

1. **form表单的基本使用**

   表单在网页中主要负责数据采集功能。HTML中的<form>标签，就是用于采集用户输入的信息，并通过<form>标签的提交操作，把采集到的信息提交到服务器端进行处理。

   1. 表单的组成部分

      ![image-20210213110308179](D:\vue\前后端交互.assets\image-20210213110308179.png)

   2. form标签的属性

      ![image-20210213110429903](D:\vue\前后端交互.assets\image-20210213110429903.png)

      + action

        action 属性用来规定当提交表单时，向何处发送表单数据。

        action属性的值应该是后端提供的一个url地址，这个url地址专门负责接收表单提交过来的数据

        当form表单在未指定action属性值的情况下，action的默认值为当前页面的url地址。

        当提交表单后，页面会立即跳转到action属性指定的url地址

      + target

        target用于规定在何处打开action URL

        他的可选值有五个，默认情况下，target的值是_self，表示在相同框架中打开action URL。

        ![image-20210213111159929](D:\vue\前后端交互.assets\image-20210213111159929.png)

      + method

        method属性用来规定以何种方式把表单数据提交到action URL。

        它的可选值有两个，分别是get和post。

        默认情况下，method的值为get，表示通过URL地址的形式，把表单数据提交到action URL。

        get方式适合用来提交少量的、简单的数据。

        post方式适合用来提交大量的、复杂的、或包含文件上传的数据。

      + enctype

        enctype属性用来规定在发送表单数据之前如何对数据进行编码。

        它的可选值有三个，默认情况下，enctype的值为application/x-www-form-urlencoded，表示在发送前编码所有的字符。

        ![image-20210213125547121](D:\vue\前后端交互.assets\image-20210213125547121.png)

   3. 表单的同步提交及缺点

      缺点：1.页面会发生跳转。2.页面之前的状态和数据会丢失。

      解决：表单采集数据，ajax提交数据。

      + 在jquery中，可以使用如下两种方式，监听到表单的提交事件：

        ```js
        $('#form1').submit(function(e){
        	alert('监听到了表单提交事件');
        })
        
        $('#form1').on('submit',function(e){
        	alert('监听到了表单提交事件');
        })
        ```

      + 阻止表单默认提交行为

        当监听到表单的提交事件以后，可以调用事件对象的event.preventDefault()函数。来组织表单的提交和页面的跳转：

        ```js
        $('#form1').submit(function(e){
            e.preventDefault();
        })
        
        $('#form1').on('submit',function(e){
            e.preventDefault();
        })
        ```

      + 快速获取表单中的数据

        serialize()函数

        ![image-20210213131214053](D:\vue\前后端交互.assets\image-20210213131214053.png)

        

## 5.模板引擎

1. 模板引擎，顾名思义，它可以根据程序员指定的模板结构和数据，自动生成一个完整的HTML页面。

2. art-template标准语法

   + 输出![image-20210213162515199](D:\vue\前后端交互.assets\image-20210213162515199.png)
   + 原文输出![image-20210213162828708](D:\vue\前后端交互.assets\image-20210213162828708.png)

   + 条件输出![image-20210213162917363](D:\vue\前后端交互.assets\image-20210213162917363.png)

   + 循环输出![image-20210213163234987](D:\vue\前后端交互.assets\image-20210213163234987.png)

   + 过滤器![image-20210213163354623](D:\vue\前后端交互.assets\image-20210213163354623.png)

     ![image-20210213195137894](D:\vue\前后端交互.assets\image-20210213195137894.png)

     定义一个格式化时间的过滤器dateFormat：

     ```js
     template.defaults.imports.dateFormat = function(date) {
         var y = date.getFullYear();
         var m = date.getMonth()+1;
         var d = date.getDate();
         
         return y + '-' + m + '-' + d;//注意，过滤器最后一定要return一个值。
     }
     ```

     

3. 模板引擎中正则表达式的应用

   ![image-20210219201846390](D:\vue\前后端交互.assets\image-20210219201846390.png)

## 6.xhr

1. **XMLHttpRequest的基本使用**

   XMLHttpRequest是浏览器提供的JavaScript对象，通过它，可以请求服务器上的数据资源。之前所学的jQuery中的ajax就是基于xhr对象封装出来的。

   ![image-20210219210249734](D:\vue\前后端交互.assets\image-20210219210249734.png)

   1. 使用xhr发起GET请求

      + 创建xhr对象
      + 调用xhr.open()函数
      + 调用xhr.send()函数
      + 监听xhr.onreadystatechange事件

      ![image-20210219210747323](D:\vue\前后端交互.assets\image-20210219210747323.png)

   2. 了解xhr对象的readyState属性

      ![image-20210219210917474](D:\vue\前后端交互.assets\image-20210219210917474.png)

   3. 使用xhr发起带参数的GET请求

      使用xhr对象发起带参数的GET请求时，只需在调用xhr.open期间，为URL地址指定参数即可：

      ```js
      xhr.open('GET','http://www.liulongbin.top:3306/api/getbooks?id=1')
      ```

   4. 查询字符串

      + get请求携带参数的本质

        ![image-20210219211540641](D:\vue\前后端交互.assets\image-20210219211540641.png)

   5. URL编码与解码

      ![image-20210219211847070](D:\vue\前后端交互.assets\image-20210219211847070.png)

      ![image-20210219211922729](D:\vue\前后端交互.assets\image-20210219211922729.png)

   6. 使用xhr发起POST请求

      ![image-20210219212158582](D:\vue\前后端交互.assets\image-20210219212158582.png)

## 7.数据交换格式

1. XML和HTML虽然都是标记语言，但是，它们两者之间没有任何的关系。

   + HTML被设计用来描述网页上的内容，是网页内容的载体。

   + XML被设计用来传输和储存数据，是数据的载体。

     ![image-20210221163546678](D:\vue\前后端交互.assets\image-20210221163546678.png)

2. JSON

   json，即“javascript对象表示法”，简单来讲，json就是javascript对象和数组的字符串表示法，它使用文本表示一个JS对象或数组的信息，因此，json的本质是字符串。

   json是一种轻量级的文本数据交换格式，在作用上类似于XML，专门用于存储和传输数据，但是json必XML更小更快，更易解析。json已经成为了主流的数据交换格式。

   1. json的两种结构

      json就是用字符串来表示JavaScript的对象和数组。所以，json中包含对象和数组两种结构，通过这两种结构的相互嵌套，可以表示各种复杂的数据结构。

      + **对象结构**：对象结构在json中表示为{}括起来的内容。数据结构为{key:value,key:value,...}的键值对结构。其中，key必须是使用**英文的双引号**包裹的字符串，value的数据类型可以是数字，字符串，布尔值，null，数组，对象六种类型。

      + **数组结构**：数组结构在json中表示为[]括起来的内容。数据结构为["java"."javascript",30,true...]。数组中数据的类型可以是数字、字符串、布尔值、null、数组、对象六种类型。

        ![image-20210221164813447](D:\vue\前后端交互.assets\image-20210221164813447.png)

   2. json语法的注意事项：

      ![image-20210221164946066](D:\vue\前后端交互.assets\image-20210221164946066.png)

   3. json和js对象的关系

      json是js对象的字符串表示法，它使用文本表示一个js对象的信息，本质是一个字符串。例如：

      ```js
      //这是一个对象
      var obj = {a: 'Hello', b: 'World'}
      
      //这是一个json字符串，本质是一个字符串
      var json = '{a: 'Hello', b: 'World'}'
      ```

   4. json和js对象的互转

      ![image-20210221165515389](D:\vue\前后端交互.assets\image-20210221165515389.png)

   5. 序列化和反序列化

      ![image-20210221165838410](D:\vue\前后端交互.assets\image-20210221165838410.png)

## 7.XMLHttpRequest Level2的新特性

1. XMLHttpRequest Level2的新功能

   ![image-20210223141815044](D:\vue\前后端交互.assets\image-20210223141815044.png)

2. 设置HTTP请求时限

   有时，Ajax操作很耗时，而且无法预知要花多少时间。如果网速很慢，用户可能要等很久。新版本的XMLHttpRequest对象，增加了timeout属性，可以设置HTTP请求的时限。

   ```js
   var xhr = new XMLHttpRequest();
   
   //设置HTTP请求时限
   xhr.timeout = 3000;
   xhr.ontimeout=function(){
       console.log('请求超时');
   }
   
   xhr.open('GET','www...../api/...');
   xhr.send();
   xhr.onreadystatechange = function(){
       if(xhr.readyState === 4 && xhr.status === 200){
           console.log(xhr.responseText);
       }
   }
   ```

3. FormData对象管理表单数据

   Ajax操作往往用来提交表单数据，为了方便表单的处理，HTML5新增了一个FormData对象，可以模拟表单操作

   ![image-20210223143214703](D:\vue\前后端交互.assets\image-20210223143214703.png)

   FormData对象也可以用来获取网页表单的值：

   ![image-20210223144405595](D:\vue\前后端交互.assets\image-20210223144405595.png)

4. 上传文件

   ```html
   <body>
       <input>
   </body>
       
   ```

5. 显示文件上传进度

   新版本的XMLHttpRequest对象中，可以通过监听xhr.upload.onprogress事件，来获取文件的上传进度。

   语法格式如下：

   ```js
   //创建XHR对象
   var xhr = new XMLHttpRequest();
   //监听xhr.upload的onprogress事件
   xhr.upload.onprogress = function(e){
       //e.lengthComputable是一个布尔值，表示当前上传的资源是否具有可计算的长度
       if(e.lengthComputable){
           //e.loaded已传输的字节
           //e.total需传输的总字节
           var percentComplete = Math.ceil((e.loaded/e.total)*100);
       }
   }
   ```

6. jquery上传文件

   ```js
   <input type='file' id='file1'/>
   <button id = "btnUpload">上传文件</button>
   <img src="" style="display: none;" id="loading"/>
   <script>
   $(function(){
       //监听到Ajax请求被发起了
       $(document).ajaxStart(function(){
           $('#loading').show()
       });
       //监听到Ajax完成的事件
       $(document).ajaxStop(function(){
           $('#loading').hide()
       });
       $('#btnUpload').on('click',function(){
           var files = $('#file1')[0].files;
           if(files.length <= 0){
               return alert('请选择文件后在上传！')
           }
           var fd = new FormData();
           fd.append('avatar',files[0]);
           
           //发起jquery的Ajax请求，上传文件
           $.ajax({
               method: 'POST',
               url:"",
               data:fd,
               processData: flase,
               contentType: false,
               success: function(res){
                   console.log(res)
               }
           })
       })
   })
   ```

7. ajaxStart(callback)

   ajax请求开始时，执行ajaxStart函数。可以在ajaxStart的callback中显示loading效果，

   ![image-20210303171249213](D:\vue\前后端交互.assets\image-20210303171249213.png)

## 6.axios

1. axios是专注于网络数据请求的库，相比于原生的XMLHttpRequest对象，axios简单易用。相比于jQuery，axios更加轻量化，只专注于网络数据请求。

2. axios发起GET请求

   ![image-20210303172725033](D:\vue\前后端交互.assets\image-20210303172725033.png)

3. axios发起POST请求

   ![image-20210303173143683](D:\vue\前后端交互.assets\image-20210303173143683.png)

4. 直接使用axios发起请求

   1. get

      ![image-20210303173322372](D:\vue\前后端交互.assets\image-20210303173322372.png)

   2. post

      ![image-20210303173357548](D:\vue\前后端交互.assets\image-20210303173357548.png)

 ## 7.同源策略

1. **同源**：如果两个页面的协议，域名和端口都相同，则两个页面具有相同的源。（端口若没有给定，则默认80）

   ![image-20210304102651583](D:\vue\前后端交互.assets\image-20210304102651583.png)

2. **同源策略**：mdn官方给定的概念：同源策略限制了从同一个源加载的文档或脚本如何与来自另一个源的资源进行交互。这是一个用于隔离潜在恶意文件的重要安全机制。

   通俗理解：浏览器规定，A网站的JavaScript，不允许和非同源打的网站C之间进行资源的交互：

   + 无法读取非同源网页的cookie、localStorage和IndexedDB
   + 无法接触非同源网页的DOM
   + 无法向非同源地址发送Ajax请求

## 8.跨域

1. **什么是跨域**

   同源指的是两个URL的协议、域名、端口一致。反之则是跨域。

   出现跨域的根本原因：浏览器的同源策略不允许非同源的URL之间进行资源的交互。

2. **浏览器对跨域请求的拦截**

   ![image-20210313124811590](D:\vue\前后端交互.assets\image-20210313124811590.png)

   注意：浏览器允许发起跨域请求，但是跨域请求回来的数据，会被浏览器拦截，无法被页面获取到。

3. **如何实现跨域数据请求**

   ![image-20210313125036358](D:\vue\前后端交互.assets\image-20210313125036358.png)

## 9.JSONP

1. JSONP是json的一种“使用模式”，可用于解决主流浏览器的跨域数据访问的问题。

2. JSONP的实现原理

   由于浏览器同源策略的限制，网页中无法通过Ajax请求非同源的接口数据。但是<script>标签不受浏览器同源策略的影响，可以通过src属性，请求非同源的js脚本。

   因此，JSONP的实现原理，就是通过<script>标签的src属性，请求跨域的数据接口，并通过函数调用的形式，接收跨域接口响应回来的数据。

3. 实现简单的jsonp请求

   ![image-20210313132226025](D:\vue\前后端交互.assets\image-20210313132226025.png)

4. jsonp的缺点

   由于JSONP是通过<script>标签的src属性，来实现跨域数据获取的，所以，jsonp只支持GET数据请求，不支持POST请求。

   注意：jsonp和Ajax之间没有任何关系，不能把jsonp请求数据的方式叫做Ajax，因为jsonp没有用到XMLHttpRequest这个对象。

5. 使用jquery发起jsonp数据请求

   ![image-20210313133518617](D:\vue\前后端交互.assets\image-20210313133518617.png)

6. jQuery中jsonp的实现过程

   jquery中jsonp也是通过<script>标签的src属性实现跨域数据访问的，只不过，jQuery采用的是动态创建和移除<script>标签的方式，来发起jsonp数据请求

   ![image-20210313135406643](D:\vue\前后端交互.assets\image-20210313135406643.png)

7. 自定义参数及回调函数名称

   ![image-20210313140026978](D:\vue\前后端交互.assets\image-20210313140026978.png)

## 10.防抖与节流

1. **什么是防抖**（淘宝搜索案例）

   防抖策略是是当事件被触发后，延迟n秒后在执行回调，如果在这n秒内事件又被触发，则重新计时。

2. **节流**

   节流策略，顾名思义，可以减少一段时间内事件触发频率。

   1. 节流的应用场景
      + 鼠标连续不断地触发某事件(如点击)，只在单位时间内触发一次；
      + 懒加载时要监听计算滚动条地位置，但不必每次滑动都触发，可以降低计算的频率，而不必去浪费cpu资源；

   2.  节流阀的概念

      节流阀为空，表示可以执行下次操作；不为空，表示不能执行下次操作。当前操作执行完，必须将节流阀重置为空，表示可以执行下次操作了。每次执行操作前，必须先判断节流阀是否为空。

   3. 使用节流优化鼠标跟随效果

      ![image-20210317191713015](D:\vue\前后端交互.assets\image-20210317191713015.png)

3. **防抖和节流的区别**
   + 防抖：如果事件被频繁触发，防抖能保证只有最后一次触发生效。前面n多次的触发都会被忽略。
   + 节流：如果事件被频繁触发，节流能够减少事件触发的频率，因此，节流是有选择性的执行一部分事件。

## 11.http协议

1. **http简介**

   1. 通信协议：是指通信的双方完成通信所必须遵守的规则和约定。

      通俗理解：通信双方采用约定好的格式来发送和接收消息，这种事先约定好的通信格式，就叫做通信协议。

      信封的填写规则就是通信协议。

   2. 互联网中的通信协议

      ![image-20210317193812632](D:\vue\前后端交互.assets\image-20210317193812632.png)

   3. 什么是http协议

      ![image-20210317193932490](D:\vue\前后端交互.assets\image-20210317193932490.png)

   4. http协议交互模型

      ![image-20210317194042774](D:\vue\前后端交互.assets\image-20210317194042774.png)

   

2. **http请求消息**

   由于HTTP协议属于客户端浏览器和服务器之间的通信协议。因此，客户端发起的请求叫做HTTP请求，客户端发送到服务器的消息，叫做HTTP请求消息。HTTP请求消息又叫做HTTP请求报文。

   **HTTP请求消息的组成部分**：

   HTTP请求消息由请求行、请求头部、空行和请求体4个部分组成。

   ![image-20210317195047640](D:\vue\前后端交互.assets\image-20210317195047640.png)

   + 请求行

     ![image-20210317202913716](D:\vue\前后端交互.assets\image-20210317202913716.png)

   + 请求头部

     ​        请求头部用来描述客户端的基本信息，从而把客户端相关的信息告知服务器。比如：User-Agent用来说明当前是什么类型的浏览器；Content-Type用来描述发送到服务器的数据格式；Accept用来描述客户端能够接收什么类型的返回内容；Accept-Language用来描述客户端期望接收哪种人类语言的文本内容。

     ![image-20210317203509804](D:\vue\前后端交互.assets\image-20210317203509804.png)

     ![image-20210317203548194](D:\vue\前后端交互.assets\image-20210317203548194.png)

   + 空行

     ![image-20210317203711563](D:\vue\前后端交互.assets\image-20210317203711563.png)

   + 请求体

     ![image-20210317203758037](D:\vue\前后端交互.assets\image-20210317203758037.png)

     **只有post请求才有请求体，get请求没有请求体。**

3. **http响应消息**

   响应消息就是服务器响应给客户端的消息内容，也叫做响应报文。

   ![image-20210317204229974](D:\vue\前后端交互.assets\image-20210317204229974.png)

   + 状态行

   ​	![image-20210317210420079](D:\vue\前后端交互.assets\image-20210317210420079.png)

   + 响应头部

     ![image-20210317210649650](D:\vue\前后端交互.assets\image-20210317210649650.png)

     常见的响应头部字段

     ![image-20210317210723711](D:\vue\前后端交互.assets\image-20210317210723711.png)

   + 空行

     ![image-20210317210814661](D:\vue\前后端交互.assets\image-20210317210814661.png)

   + 响应体

     ![image-20210317210856405](D:\vue\前后端交互.assets\image-20210317210856405.png)

   4. **http响应状态码**

      1. 什么是HTTP请求方法

         HTTP请求方法，属于HTTP协议中的一部分，请求方法的作用是：用来表明要对服务器上的资源执行的操作。最常用的请求方法是GET和POST。

         ![image-20210317211208626](D:\vue\前后端交互.assets\image-20210317211208626.png)

      2. HTTP响应状态码

         ![image-20210317211411822](D:\vue\前后端交互.assets\image-20210317211411822.png)

      3. HTTP响应状态码的组成及分类

         ![image-20210317211544100](D:\vue\前后端交互.assets\image-20210317211544100.png)

         + 2xx

           ![image-20210317211725884](D:\vue\前后端交互.assets\image-20210317211725884.png)

         + 3xx

           ![image-20210317211813955](D:\vue\前后端交互.assets\image-20210317211813955.png)

         + 4xx

           ![image-20210317211917442](D:\vue\前后端交互.assets\image-20210317211917442.png)

         + 5xx

           ![image-20210317212051070](D:\vue\前后端交互.assets\image-20210317212051070.png)

## 12.git

1. 使用版本控制软件的好处

   ![image-20210319151541594](D:\vue\前后端交互.assets\image-20210319151541594.png)

2. 分布式版本控制系统

   ![image-20210319162125068](D:\vue\前后端交互.assets\image-20210319162125068.png)

3. Git

   1. git记录快照	

      ![image-20210319162625332](D:\vue\前后端交互.assets\image-20210319162625332.png)

   2. git中近乎所有操作都是本地执行

      ![image-20210319162910444](D:\vue\前后端交互.assets\image-20210319162910444.png)

   3. Git中管理项目的三个区域

      工作区、暂存区、Git仓库

   4. Git中的三种状态

      ![image-20210319163234106](D:\vue\前后端交互.assets\image-20210319163234106.png)

      + 工作区的文件被修改了，但还没有放到暂存区，就是已修改状态。
      + 如果文件已修改并放入暂存区，就属于已暂存状态。
      + 如果Git仓库中保存着特定版本的文件，就属于已提交状态。

   5. Git的工作流程

      ![image-20210319163624727](D:\vue\前后端交互.assets\image-20210319163624727.png)

4. **Git的基本操作**

   1. ***获取git仓库的两种方式***

      + 将尚未进行版本控制的本地目录转换为Git仓库
      + 从其他服务器克隆一个已存在的Git仓库

   2. ***在现有目录中初始化仓库***

      ​        如果自己有一个尚未进行版本控制的项目目录，想要用Git控制它则需要：

      + 在项目目录中，通过鼠标右键打开“Git Bash”。

      + 执行git init命令将当前的目录转换为git仓库。

      ​       git init命令去创建一个名为.git的隐藏目录，这个.git目录就是当前项目的Git仓库，里面包含了初文件，这些文件是Git仓库的必要组成部分。

   3. ***工作区中文件的四种状态***

      ![image-20210319192952457](D:\vue\前后端交互.assets\image-20210319192952457.png)

   4. ***检查文件的状态***

      可以使用git status命令查看文件处于什么状态

      ![image-20210319193943035](D:\vue\前后端交互.assets\image-20210319193943035.png)

   5. ***以精简的方式显示文件状态***

      以精简的方式显示文件的状态

      ```
      $ git status -s
      ```

      未跟踪文件前面有红色的？？标记例如：

      ![image-20210319195337449](D:\vue\前后端交互.assets\image-20210319195337449.png)

   6. ***跟踪新文件***

      ```
      git add （+文件名）
      ```

      以精简的方式显示文件的状态时，新添加到暂存区中的文件前面有绿色的A标记。

      ```
      clear //清空
      ```

   7. ***提交更新***

      ```
      git commit -m
      ```

      -m选项后面时本次的提交消息，用来对提交的内容做进一步的描述。

      ![image-20210319200258896](D:\vue\前后端交互.assets\image-20210319200258896.png)

   8. ***对已提交的文件进行修改***

      ![image-20210319200811475](D:\vue\前后端交互.assets\image-20210319200811475.png)

   9. ***暂存已修改的文件***

      ![image-20210319200738994](D:\vue\前后端交互.assets\image-20210319200738994.png)

   10. ***提交已暂存的文件***

       再次运行git commit -m “提交消息”命令，即可将暂存区中记录的index.html的快照，提交到Git仓库中进行保存

       ![image-20210319202533909](D:\vue\前后端交互.assets\image-20210319202533909.png)

   11. ***撤销对文件的修改***

       ![image-20210319202608800](D:\vue\前后端交互.assets\image-20210319202608800.png)

   12. ***向暂存区中一次性添加多个文件***

       ```
       git add .
       ```

       今后在项目开发中，会经常使用这个命令，将新增和修改过后的文件加入暂存区

   13. ***取消暂存的文件***

       ```
       git reset HEAD 要移除的文件名称
       git reset HEAD . //所有文件都移除
       ```

   14. ***跳过使用暂存区域***

       ```
       git commit -a -m
       ```

       ![image-20210319204406073](D:\vue\前后端交互.assets\image-20210319204406073.png)

   15. ***移除文件***

       + 从git仓库和工作区中同时移除对应的文件

         ```
         git rm -f 需要移除的文件名
         ```

         

       + 只从git仓库中移除指定的文件，但保留工作区中对应的文件

         ```
         git rm --cached 需要移除的文件名
         ```

   16. ***忽略文件***

       ![image-20210319205045601](D:\vue\前后端交互.assets\image-20210319205045601.png)

   17. ***glob模式***

       ![image-20210319205231077](D:\vue\前后端交互.assets\image-20210319205231077.png)

   18. ***查看提交历史***

       ```
       git log
       ```

       ![image-20210319210059133](D:\vue\前后端交互.assets\image-20210319210059133.png)

   19. ***回退到指定版本***

       ![image-20210319210706864](D:\vue\前后端交互.assets\image-20210319210706864.png)

## 13.Github

1. github远程仓库的两种访问方式

   + https：零配置；但是每次访问仓库时，需要重复输入Github的账号和密码才能访问成功

   + SSH：需要进行额外的配置；但是配置成功后，每次访问仓库时，不需要重复输入Github的账号和密码。

     实际开发中，推荐使用ssh的方式访问远程仓库。

2. 将远程仓库克隆到本地

   ```
   git clone 远程仓库的地址
   ```

## 14.分支

1. **本地分支操作**
   1. **master主分支**

      在初始化本地Git仓库的时候，Git默认已经帮我们创建了一个名字叫做master的分支。通常我们把这个master分支叫做主分支。

      ![image-20210321011147691](D:\vue\前后端交互.assets\image-20210321011147691.png)

      master主分支的作用：用来保存和记录整个项目已完成的功能代码。

      因此，不允许程序员直接在master分支上修改代码，因为这样做的风险太高，容易导致整个项目崩溃。

   2. **功能分支**

      功能分支指的是专门用来开发新功能的分支，他是临时从master主分支上分叉出来的，当新功能开发且测试完毕后，最终合并到master主分支上。

   3. **查看分支列表**

      ```
      git branch
      ```

      分支名字前面的*表示当前所处的分支

   4. **创建新分支**

      ```
      git branch 分支名称
      ```

      ![image-20210321011639803](D:\vue\前后端交互.assets\image-20210321011639803.png)

   5. **切换分支**

      ```
      git checkout login
      ```

      ![image-20210321011719192](D:\vue\前后端交互.assets\image-20210321011719192.png)

   6. **分支的快速创建和切换**

      ```
      -b 表示创建一个新分支
      checkout 表示切换到刚才新建的分支上
      Eg:git checkout -b 分支名称
      ```

      ![image-20210321011927951](D:\vue\前后端交互.assets\image-20210321011927951.png)

   7. **合并分支**

      功能分支的代码开发测试完毕之后，可以使用如下命令，将完成后的代码合并到master主分支上，***先切换，后合并***。

      ```
      git checkout master //切换到master分支
      git merge login //在master分支上运行git merge命令，将login分支的代码合并到master分支
      ```

      ![image-20210321012316710](D:\vue\前后端交互.assets\image-20210321012316710.png)

   8. **删除分支**

      ```
      git branch -d 分支名称
      ```

      ![image-20210321012453233](D:\vue\前后端交互.assets\image-20210321012453233.png)

   9. **遇到冲突时的分支合并**

      如果在两个不同的分支中，对同一个文件进行了不同的修改，Git就没法干净的合并它们。此时，我们需要打开这些包含冲突的文件然后手动解决冲突。

      ![image-20210321012655671](D:\vue\前后端交互.assets\image-20210321012655671.png)

2. **远程分支操作**

   1. **将本地分支推送到远程仓库**

      如果是第一次将本地分支推送到远程仓库，需要运行如下命令

      ```
      git push -u 远程仓库的别名 本地分支名名称：远程分支名称
      //-u表示把本地分支和远程分支进行关联，只在第一次推送的时候需要带-u参数
      
      //实际案例
      git push -u origin payment:pay
      //如果希望远程分支的名称和本地分支名称保持一致，可以对命令进行简化：
      git push -u origin payment
      ```

      

   2. 查看远程仓库中所有的分支列表

      ```
      git remote show 远程仓库的名称
      ```

   3. 跟踪分支

      跟踪分支指的是：从远程仓库中，把远程分支下载到本地仓库中。

      ![image-20210321015154645](D:\vue\前后端交互.assets\image-20210321015154645.png)

      

   4. 拉取远程分支的最新代码

      从远程仓库，拉取当前分支最新的代码，保持当前分支的代码和远程分支代码一致。

      ```
      git pull
      ```

   5. 删除远程分支

      ```
      git push 远程仓名称 --delete 远程分支名称
      
      实例：
      git push origin --delete pay
      ```

      